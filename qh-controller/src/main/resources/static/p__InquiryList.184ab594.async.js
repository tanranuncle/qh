(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[600],{99705:function(G,T,a){"use strict";a.r(T),a.d(T,{default:function(){return P}});var i=a(39428),p=a(3182),N=a(57663),m=a(71577),x=a(2824),Z=a(11849),t=a(25377);function B(y,h){return j.apply(this,arguments)}function j(){return j=(0,p.Z)((0,i.Z)().mark(function y(h,f){return(0,i.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,t.WY)("/api/inquiry",(0,Z.Z)({method:"GET",params:(0,Z.Z)({},h)},f||{})));case 1:case"end":return l.stop()}},y)})),j.apply(this,arguments)}var E=a(49101),H=a(62312),b=a(42381),A=a(6259),I=a(37476),$=a(5966),w=a(90672),c=a(67294),L=a(73727),e=a(85893),O=function(){var h=(0,c.useState)(!1),f=(0,x.Z)(h,2),M=f[0],l=f[1],g=(0,c.useRef)(),V=(0,c.useState)(),C=(0,x.Z)(V,2),D=C[0],K=C[1],W=(0,c.useState)([]),F=(0,x.Z)(W,2),u=F[0],R=F[1],S=(0,t.YB)(),Y=[{title:(0,e.jsx)(t._H,{id:"pages.inquiry.table.col.sn",defaultMessage:"\u8BE2\u4EF7\u5355\u53F7"}),dataIndex:"name",tip:"\u8BE2\u4EF7\u5355\u8BC6\u522B\u7F16\u53F7",render:function(s,n){return(0,e.jsx)(L.rU,{to:"/inquiries/"+n.name,children:s})}},{title:(0,e.jsx)(t._H,{id:"pages.inquiry.table.col.customer",defaultMessage:"\u5BA2\u6237\u4FE1\u606F"}),dataIndex:"customer",valueType:"textarea"},{title:(0,e.jsx)(t._H,{id:"pages.inquiry.table.col.createdAt",defaultMessage:"\u521B\u5EFA\u65F6\u95F4"}),sorter:!0,dataIndex:"createdAt",valueType:"dateTime"},{title:(0,e.jsx)(t._H,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(s,n){return[(0,e.jsx)("a",{onClick:function(){t.m8.push("/inquiries/"+n.name)},children:(0,e.jsx)(t._H,{id:"pages.inquiry.table.col.detail",defaultMessage:"\u67E5\u770B\u8BE6\u60C5"})},"config")]}}];return(0,e.jsxs)(H.ZP,{children:[(0,e.jsx)(b.Z,{headerTitle:S.formatMessage({id:"pages.searchTable.title",defaultMessage:"Enquiry form"}),actionRef:g,rowKey:"name",search:{labelWidth:120},toolBarRender:function(){return[(0,e.jsxs)(m.Z,{type:"primary",onClick:function(){l(!0)},children:[(0,e.jsx)(E.Z,{})," ",(0,e.jsx)(t._H,{id:"pages.searchTable.new",defaultMessage:"New"})]},"primary")]},request:B,columns:Y,rowSelection:{onChange:function(s,n){R(n)}}}),(u==null?void 0:u.length)>0&&(0,e.jsxs)(A.Z,{extra:(0,e.jsxs)("div",{children:[(0,e.jsx)(t._H,{id:"pages.searchTable.chosen",defaultMessage:"Chosen"})," ",(0,e.jsx)("a",{style:{fontWeight:600},children:u.length})," ",(0,e.jsx)(t._H,{id:"pages.searchTable.item",defaultMessage:"\u9879"}),"\xA0\xA0",(0,e.jsxs)("span",{children:[(0,e.jsx)(t._H,{id:"pages.searchTable.totalServiceCalls",defaultMessage:"Total number of service calls"})," ",u.reduce(function(r,s){return r+s.callNo},0)," ",(0,e.jsx)(t._H,{id:"pages.searchTable.tenThousand",defaultMessage:"\u4E07"})]})]}),children:[(0,e.jsx)(m.Z,{onClick:(0,p.Z)((0,i.Z)().mark(function r(){var s,n;return(0,i.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,handleRemove(u);case 2:R([]),(s=g.current)===null||s===void 0||(n=s.reloadAndRest)===null||n===void 0||n.call(s);case 4:case"end":return d.stop()}},r)})),children:(0,e.jsx)(t._H,{id:"pages.searchTable.batchDeletion",defaultMessage:"Batch deletion"})}),(0,e.jsx)(m.Z,{type:"primary",children:(0,e.jsx)(t._H,{id:"pages.searchTable.batchApproval",defaultMessage:"Batch approval"})})]}),(0,e.jsxs)(I.Y,{title:S.formatMessage({id:"pages.inquiry.create",defaultMessage:"\u65B0\u5EFA\u8BE2\u4EF7\u9700\u6C42"}),width:"400px",visible:M,onVisibleChange:l,onFinish:function(){var r=(0,p.Z)((0,i.Z)().mark(function s(n){var v;return(0,i.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,handleAdd(n);case 2:v=o.sent,v&&(l(!1),g.current&&g.current.reload());case 4:case"end":return o.stop()}},s)}));return function(s){return r.apply(this,arguments)}}(),children:[(0,e.jsx)($.Z,{rules:[{required:!0,message:(0,e.jsx)(t._H,{id:"pages.inquiry.name",defaultMessage:"\u5FC5\u586B"})}],width:"md",name:"name",label:"\u8BE2\u4EF7\u5355\u7F16\u53F7"}),(0,e.jsx)(w.Z,{label:"\u5BA2\u6237\u4FE1\u606F",width:"md",name:"desc"})]})]})},P=O}}]);
